{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAc,sBAEdC,EAAOC,SAASC,cAAc,kBACpCF,EAAKG,iBAAiB,SAAS,EAAAN,EAAAO,WAK/B,SAAoBC,GAClBC,EAASD,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,MACvCC,aAAaC,QAAQZ,EAAaa,KAAKC,UAAUP,GACnD,GARoD,MACpDN,EAAKG,iBAAiB,UAStB,SAAsBE,GACpBA,EAAIS,iBACJT,EAAIU,cAAcC,QAClBN,aAAaO,WAAWlB,GACxBmB,QAAQC,IAAIb,EACd,IAZA,IAAIA,EAAW,CAAC,GAchB,WACE,IAAMc,EAAOR,KAAKS,MAAMX,aAAaY,QAAQvB,KAAiB,CAAC,EAC/DO,EAAWc,EACX,IAAMG,EAAQtB,SAASC,cAAc,wBAC/BsB,EAAUvB,SAASC,cAAc,2BAEvCqB,EAAMd,MAAQW,EAAKG,OAAS,GAC5BC,EAAQf,MAAQW,EAAKI,SAAW,EAClC,CAEAC,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nform.addEventListener('input', throttle(onFormData, 500));\nform.addEventListener('submit', onSubmitForm);\n\nlet formData = {};\n\nfunction onFormData(evt) {\n  formData[evt.target.name] = evt.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onSubmitForm(evt) {\n  evt.preventDefault();\n  evt.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n  console.log(formData);\n}\n\nfunction dataFromLocalStorage() {\n  const data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n  formData = data;\n  const email = document.querySelector('.feedback-form input');\n  const message = document.querySelector('.feedback-form textarea');\n\n  email.value = data.email || '';\n  message.value = data.message || '';\n}\n\ndataFromLocalStorage();\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","addEventListener","throttle","evt","$b00c40859be242c5$var$formData","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","currentTarget","reset","removeItem","console","log","data","parse","getItem","email","message","$b00c40859be242c5$var$dataFromLocalStorage"],"version":3,"file":"03-feedback.5f5b7108.js.map"}